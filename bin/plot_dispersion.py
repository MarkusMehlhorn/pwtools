#!/usr/bin/env python

# Plot a dispersion generated by QE's matdyn.x. This is a version of QE's
# plotband.x, which produces a nice matplotlib figure :) Reads a k-point -
# frequency file produced by QE's matdyn.x See pwscf.parse_dis() and
# read_matdyn_freq().

if __name__ == '__main__':
    import matplotlib.pyplot as plt
    import sys
    from pwtools.kpath import plot_dis 
    from pwtools.pwscf import parse_dis
    
    # usage:
    #   plot_dispersion.py foo.freq [kpath_def.txt]

    fn_freq = sys.argv[1]
    if len(sys.argv) == 3:
        fn_kpath_def = sys.argv[2]
    else:
        fn_kpath_def = None
    plot_dis(*parse_dis(fn_freq, fn_kpath_def))
    plt.show()

